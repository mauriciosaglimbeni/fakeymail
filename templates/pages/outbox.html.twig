{% extends 'base.html.twig' %}

{% block stylesheets %}
 <link href="{{ asset('styles.css') }}" type="text/css" rel="stylesheet" />
</style>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}
{% block title %}FakeyMail-Outbox {{app.user.name}}!{% endblock %}
{% block body %}

<div class="example-wrapper">
    <h2 class="title">Outbox</h2>

    {%if messages != null%} 
         <table  cellspacing="20" cellpadding="5" style="border:black 1px solid; width:70%">
            <tr><th>To</th><th>Subject</th><th> Date </th></tr>
            {% for message in messages %}
                <tr><td>{{message.recipient}}</td>

                <td> {{message.getCreatedAt()|date("H:i m/d/Y ") }}</td>

                {% if message.getIsRead() == false %}
                   <td> <b> <a href={{"/seeMessage?id=#{message.id}"}}   class="no-deco">  {{message.subject}}</a></b></td>
                   <td> Not read</td>
                {% else %}
                    <td><a <a href={{"/seeMessage?id=#{message.id}"}}   class="no-deco"> {{message.subject}}  </a></td>
                    <td> Read</td>
                {% endif %}
                
                {% if message.getImage() != NULL or message.getFile() != NULL %}
                    <td> <i class="fa fa-paperclip" style="font-size:24px"></i></td>
                {% endif %}
                </tr>
            {% endfor %}
        </table>
    {%else%}
        <h3 class="alert"> No sent messages yet!</h3>
        {%endif%}
    
</div>
{% endblock %}
